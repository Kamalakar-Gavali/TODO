(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(1),o=n.n(i),a=n(7),s=n.n(a),r=(n(13),n(3)),u=n(2),j=function(e){var t=Object(i.useState)(!1),n=Object(u.a)(t,2),o=n[0],a=n[1],s=Object(i.useState)(""),r=Object(u.a)(s,2),j=r[0],d=r[1];return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"list-items",children:[e.item.task,o?Object(c.jsxs)("span",{children:[Object(c.jsx)("input",{value:j,onChange:function(e){return d(e.target.value)}}),Object(c.jsx)("button",{onClick:function(){e.editItem(e.index,j),a(!o)},children:"Save"}),Object(c.jsx)("button",{onClick:function(){return a(!o)},children:"Cancel"})]}):Object(c.jsxs)("span",{children:[Object(c.jsx)("button",{onClick:function(){a(!o),d(e.item.task)},children:"Edit"}),Object(c.jsx)("button",{onClick:function(){return e.deleteItem(e.index)},children:"Delete"})]})]},e.index)})},d=function(){var e=Object(i.useState)(""),t=Object(u.a)(e,2),n=t[0],o=t[1],a=Object(i.useState)([]),s=Object(u.a)(a,2),d=s[0],l=s[1],b=Object(i.useState)("2px solid black"),h=Object(u.a)(b,2),O=h[0],f=h[1],p=function(e,t){var n=d[e]._id;fetch("/editItem/".concat(n),{method:"PUT",body:JSON.stringify({task:t}),headers:{"Content-Type":"application/json"}}).then((function(n){var c=Object(r.a)(d);c[e].task=t,l(c)}))},m=function(e){var t=Object(r.a)(d),n=t[e]._id;fetch("/deleteItem/".concat(n),{method:"DELETE"}).then((function(n){t.splice(e,1),l(Object(r.a)(t))}))};return Object(i.useEffect)((function(){fetch("/getItems",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e.sort((function(e,t){return new Date(e.creationTime).valueOf()-new Date(t.creationTime).valueOf()}));l(t)}))}),[]),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("main",{children:[Object(c.jsx)("h1",{children:"ToDo List"}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==n.trim()?(f("2px solid black"),fetch("/addItem",{method:"POST",body:JSON.stringify({task:n}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=Object(r.a)(d);t.push(e),console.log(e),l(Object(r.a)(t)),o("")}))):f("2px solid red")},children:[Object(c.jsx)("input",{placeholder:"Add task here",value:n,onChange:function(e){return o(e.target.value)},style:{border:O},onBlur:function(){return f("2px solid black")}}),Object(c.jsx)("button",{style:{marginBottom:"20px"},children:"Add"}),d.map((function(e,t){return Object(c.jsx)(j,{itemList:d,item:e,index:t,editItem:p,deleteItem:m})}))]})]}),Object(c.jsx)("footer",{children:"\xa9 2020 Developed by KG"})]})},l=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),o(e),a(e)}))};s.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(d,{})}),document.getElementById("root")),l()}},[[14,1,2]]]);
//# sourceMappingURL=main.43347f08.chunk.js.map