(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{13:function(t,e,n){},14:function(t,e,n){"use strict";n.r(e);var c=n(0),i=n(1),o=n.n(i),a=n(7),s=n.n(a),r=(n(13),n(3)),l=n(2),u=function(t){var e=Object(i.useState)(!1),n=Object(l.a)(e,2),o=n[0],a=n[1],s=Object(i.useState)(""),r=Object(l.a)(s,2),u=r[0],j=r[1];return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"list-items",children:[t.item.task,o?Object(c.jsxs)("span",{children:[Object(c.jsx)("input",{value:u,onChange:function(t){return j(t.target.value)}}),Object(c.jsx)("button",{onClick:function(){t.editItem(t.index,u),a(!o)},children:"Save"}),Object(c.jsx)("button",{onClick:function(){return a(!o)},children:"Cancel"})]}):Object(c.jsxs)("span",{children:[Object(c.jsx)("button",{onClick:function(){a(!o),j(t.item.task)},children:"Edit"}),Object(c.jsx)("button",{onClick:function(){return t.deleteItem(t.index)},children:"Delete"})]})]},t.index)})},j=function(){var t=Object(i.useState)(""),e=Object(l.a)(t,2),n=e[0],o=e[1],a=Object(i.useState)([]),s=Object(l.a)(a,2),j=s[0],d=s[1],b=Object(i.useState)("2px solid black"),h=Object(l.a)(b,2),p=h[0],O=h[1],f=function(t,e){var n=j[t]._id;fetch("http://localhost:9999/editItem/".concat(n),{method:"PUT",body:JSON.stringify({task:e}),headers:{"Content-Type":"application/json"}}).then((function(n){var c=Object(r.a)(j);c[t].task=e,d(c)}))},m=function(t){var e=Object(r.a)(j),n=e[t]._id;fetch("http://localhost:9999/deleteItem/".concat(n),{method:"DELETE"}).then((function(n){e.splice(t,1),d(Object(r.a)(e))}))};return Object(i.useEffect)((function(){fetch("http://localhost:9999/getItems",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){return t.json()})).then((function(t){var e=t.sort((function(t,e){return new Date(t.creationTime).valueOf()-new Date(e.creationTime).valueOf()}));d(e)}))}),[]),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("main",{children:[Object(c.jsx)("h1",{children:"ToDo List"}),Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==n.trim()?(O("2px solid black"),fetch("http://localhost:9999/addItem",{method:"POST",body:JSON.stringify({task:n}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){var e=Object(r.a)(j);e.push(t),console.log(t),d(Object(r.a)(e)),o("")}))):O("2px solid red")},children:[Object(c.jsx)("input",{placeholder:"Add task here",value:n,onChange:function(t){return o(t.target.value)},style:{border:p},onBlur:function(){return O("2px solid black")}}),Object(c.jsx)("button",{style:{marginBottom:"20px"},children:"Add"}),j.map((function(t,e){return Object(c.jsx)(u,{itemList:j,item:t,index:e,editItem:f,deleteItem:m})}))]})]}),Object(c.jsx)("footer",{children:"\xa9 2020 Developed by KG"})]})},d=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),c(t),i(t),o(t),a(t)}))};s.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(j,{})}),document.getElementById("root")),d()}},[[14,1,2]]]);
//# sourceMappingURL=main.5dcc85d7.chunk.js.map